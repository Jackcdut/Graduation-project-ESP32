<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>技术路线图 - 面向开发调试的一体化便携测试系统设计</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'SimSun', 'STSong', 'Times New Roman', serif;
            background: #fff;
            padding: 20px;
            font-size: 11px;
            line-height: 1.4;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #fff;
        }
        
        /* 主标题 */
        .main-title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            color: #333;
            padding: 15px 0;
            border-bottom: 2px solid #8B7355;
            margin-bottom: 0;
        }
        
        /* 整体布局 */
        .roadmap {
            display: flex;
            border: 2px solid #8B7355;
            border-top: none;
        }
        
        /* 左侧阶段标签 */
        .stage-labels {
            width: 30px;
            display: flex;
            flex-direction: column;
        }
        
        .stage-label {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            padding: 8px 4px;
            font-size: 11px;
            font-weight: bold;
            text-align: center;
            border-right: 1px solid #8B7355;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stage-1 { background: #E8DCC8; flex: 1; }
        .stage-2 { background: #D4E8D4; flex: 1.2; }
        .stage-3 { background: #D4E0E8; flex: 1.3; }
        .stage-4 { background: #E8E0D4; flex: 1.2; }
        
        /* 主内容区 */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* 每个阶段行 */
        .stage-row {
            display: flex;
            border-bottom: 2px solid #8B7355;
            position: relative;
        }
        
        .stage-row:last-child {
            border-bottom: none;
        }
        
        .stage-content {
            flex: 1;
            padding: 12px;
            position: relative;
        }
        
        /* 右侧标注 */
        .side-note {
            width: 50px;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #666;
            border-left: 1px dashed #999;
            padding: 5px;
        }
        
        /* 模块框样式 */
        .module-box {
            border: 1.5px solid #8B7355;
            background: #FFFEF8;
            padding: 8px;
            margin: 5px;
            display: inline-block;
            vertical-align: top;
        }
        
        .module-title {
            font-weight: bold;
            font-size: 12px;
            color: #333;
            border-bottom: 1px solid #CCC;
            padding-bottom: 4px;
            margin-bottom: 6px;
        }
        
        .module-content {
            font-size: 10px;
            color: #444;
        }
        
        .module-content p {
            margin: 3px 0;
        }
        
        /* 小标签 */
        .tag {
            display: inline-block;
            padding: 2px 6px;
            margin: 2px;
            font-size: 9px;
            border: 1px solid #999;
            background: #F8F8F8;
        }
        
        .tag-highlight {
            background: #FFF8DC;
            border-color: #DAA520;
        }
        
        /* 箭头样式 */
        .arrow {
            color: #8B7355;
            font-size: 14px;
            margin: 0 5px;
        }
        
        .arrow-curved {
            color: #9370DB;
            font-size: 16px;
        }
        
        .arrow-down {
            display: block;
            text-align: center;
            color: #8B7355;
            font-size: 14px;
            margin: 5px 0;
        }
        
        /* 编号 */
        .section-num {
            position: absolute;
            font-size: 12px;
            font-weight: bold;
            color: #8B4513;
        }
        
        /* 连接文字 */
        .connector-text {
            font-size: 10px;
            color: #666;
            font-style: italic;
        }
        
        /* 虚线框 */
        .dashed-box {
            border: 1.5px dashed #8B7355;
            padding: 10px;
            margin: 5px;
            background: #FAFAF5;
        }
        
        /* 实线框组 */
        .solid-group {
            border: 2px solid #8B7355;
            padding: 10px;
            margin: 8px 5px;
            background: #FFFEF8;
        }
        
        /* 弹性布局 */
        .flex-row {
            display: flex;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .flex-col {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        /* 小模块 */
        .small-box {
            border: 1px solid #999;
            padding: 4px 8px;
            font-size: 10px;
            background: #FFF;
            text-align: center;
            min-width: 60px;
        }
        
        .small-box-highlight {
            background: #FFFACD;
            border-color: #DAA520;
        }
        
        /* 输出标记 */
        .output-label {
            font-size: 10px;
            color: #666;
            margin: 5px 0;
        }
        
        /* 验证标记 */
        .verify-box {
            border: 1px solid #228B22;
            background: #F0FFF0;
            padding: 3px 8px;
            font-size: 9px;
            color: #228B22;
        }
        
        /* 大箭头 */
        .big-arrow {
            font-size: 20px;
            color: #DAA520;
            margin: 0 10px;
        }
        
        /* 阶段内分隔 */
        .stage-divider {
            border-top: 1px dashed #CCC;
            margin: 10px 0;
        }

        /* 打印优化 */
        @media print {
            body { padding: 10px; }
            .container { max-width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 主标题 -->
        <div class="main-title">面向开发调试的一体化便携测试系统设计</div>
        
        <div class="roadmap">
            <!-- 左侧阶段标签 -->
            <div class="stage-labels">
                <div class="stage-label stage-1">第一阶段<br>理论研究与方案设计</div>
                <div class="stage-label stage-2">第二阶段<br>模块化实现与单元测试</div>
                <div class="stage-label stage-3">第三阶段<br>系统集成与功能验证</div>
                <div class="stage-label stage-4">第四阶段<br>系统测试与论文撰写</div>
            </div>
            
            <!-- 主内容区 -->
            <div class="main-content">

                <!-- ==================== 第一阶段 ==================== -->
                <div class="stage-row">
                    <div class="stage-content">
                        <div class="flex-row" style="align-items: stretch;">
                            <!-- 1.1 系统概述 -->
                            <div class="module-box" style="width: 200px;">
                                <div class="module-title">一体化便携测试系统概述</div>
                                <div class="module-content">
                                    <p>系统架构与性能指标</p>
                                    <p style="font-size:9px;color:#666;">(示波器/信号源/电源/万用表/无线串口)</p>
                                    <p>关键技术挑战｜解决方案</p>
                                </div>
                                <div style="margin-top:8px; padding-top:6px; border-top:1px dashed #ccc;">
                                    <div class="small-box" style="margin:3px 0;">问题｜根本原因</div>
                                    <p style="font-size:9px;color:#888;margin:3px 0;">便携性差、成本高、功能分散</p>
                                    <div class="small-box" style="margin:3px 0;">传统分立式仪器方案</div>
                                    <div class="small-box" style="margin:3px 0;">本设计一体化集成方案</div>
                                </div>
                                <div class="section-num" style="bottom:5px;right:8px;">1.1</div>
                            </div>
                            
                            <div class="flex-col" style="justify-content:center;">
                                <span class="arrow-curved">⤴</span>
                                <span class="connector-text">引出</span>
                            </div>
                            
                            <div class="dashed-box" style="max-width:180px;">
                                <p style="font-size:10px;text-align:center;">突出STM32+ESP32<br>双核异构与OneNet云端<br>协同研究的必要性</p>
                            </div>
                            
                            <div class="flex-col" style="justify-content:center;">
                                <span class="connector-text">包括</span>
                                <span class="arrow">→</span>
                            </div>
                            
                            <div class="dashed-box">
                                <div class="small-box" style="margin:3px;">多功能系统集成</div>
                                <p style="font-size:9px;color:#666;text-align:center;">示波器+信号源+电源<br>+万用表+无线串口</p>
                            </div>
                            
                            <!-- 1.2 研究现状 -->
                            <div class="module-box" style="width: 200px;">
                                <div class="module-title">国内外便携测试系统研究现状</div>
                                <div class="module-content">
                                    <p>性能现状｜功能缺失</p>
                                    <p style="font-size:9px;color:#666;">(泰克2系列MSO、Digilent AD3)</p>
                                    <p>功能分散、云端能力弱</p>
                                    <p style="font-size:9px;color:#666;">(正点原子DS100、优利德)</p>
                                </div>
                                <div style="margin-top:8px; padding-top:6px; border-top:1px dashed #ccc;">
                                    <div class="flex-row" style="gap:3px;flex-wrap:wrap;">
                                        <div class="small-box">嵌入式系统开发</div>
                                        <div class="small-box">通信与协同控制</div>
                                        <div class="small-box">云端与交互实现</div>
                                    </div>
                                </div>
                                <div class="section-num" style="bottom:5px;right:8px;">1.2</div>
                            </div>
                            
                            <div class="flex-col" style="justify-content:center;">
                                <span class="connector-text">并列</span>
                            </div>
                            
                            <!-- 1.3 研究方法 -->
                            <div class="module-box" style="width: 160px;">
                                <div class="module-title">研究方法概述</div>
                                <div class="module-content">
                                    <div class="small-box tag-highlight" style="margin:3px 0;">参数测量</div>
                                    <p style="font-size:9px;color:#666;">电压±50V、电流±2A<br>电阻10Ω-1MΩ</p>
                                    <div style="margin-top:6px;">
                                        <span class="tag">研究手段</span>
                                    </div>
                                    <div class="small-box" style="margin:5px 0;">MATLAB<br>Simulink仿真</div>
                                    <div class="small-box" style="margin:3px 0;">原型开发与<br>功能测试</div>
                                </div>
                                <div class="section-num" style="bottom:5px;right:8px;">1.3</div>
                            </div>
                        </div>
                    </div>
                    <div class="side-note">方法对应</div>
                </div>

                <!-- ==================== 第二阶段 ==================== -->
                <div class="stage-row">
                    <div class="stage-content">
                        <div class="flex-row" style="align-items: flex-start;">
                            <!-- 2.1 模块设计 -->
                            <div class="solid-group" style="width: 240px;">
                                <div class="module-title">各功能模块设计实现与性能验证</div>
                                
                                <div style="margin:8px 0;">
                                    <span class="tag tag-highlight">方案设计阶段</span>
                                    <span style="font-size:10px;">理论与技术分析</span>
                                </div>
                                
                                <div class="flex-col" style="margin-left:15px;">
                                    <div class="flex-row" style="align-items:center;">
                                        <span class="arrow-curved" style="font-size:12px;">↘</span>
                                        <span class="output-label">输出</span>
                                    </div>
                                    <div class="small-box">设计指标与目标值</div>
                                    <p style="font-size:9px;color:#666;margin-left:5px;">采样率7.2MSPS、DDS 1Hz-1MHz</p>
                                    <div class="small-box">电路模型与参数关系</div>
                                    <p style="font-size:9px;color:#666;margin-left:5px;">前端调理、DAC控制、PID反馈</p>
                                </div>
                                
                                <div style="margin:10px 0; border-top:1px dashed #ccc; padding-top:8px;">
                                    <div class="small-box small-box-highlight">实物实现阶段</div>
                                    <span style="font-size:10px;margin-left:5px;">硬件功能验证</span>
                                </div>
                                
                                <div class="flex-col" style="margin-left:15px;">
                                    <span class="output-label">输出</span>
                                    <div class="small-box">硬件实物与测试数据</div>
                                    <p style="font-size:9px;color:#666;margin-left:5px;">四层PCB、叠层集成</p>
                                    <div class="small-box">实测与设计对比分析</div>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">2.1</div>
                            </div>
                            
                            <div class="flex-col" style="justify-content:center;margin-top:50px;">
                                <span class="connector-text">对照</span>
                                <span class="arrow">→</span>
                            </div>
                            
                            <!-- 2.2 STM32信号处理 -->
                            <div class="solid-group" style="flex:1; min-width:500px;">
                                <div class="module-title">基于STM32的信号处理与控制模块</div>
                                
                                <div class="flex-row" style="margin-top:10px;">
                                    <!-- 信号发生器 -->
                                    <div class="flex-col" style="flex:1;">
                                        <p style="font-size:10px;">信号发生器模块的设计方法选择</p>
                                        <div class="flex-row" style="gap:5px;">
                                            <span class="tag">DDS直接数字合成</span>
                                            <span class="tag tag-highlight">AD983x芯片</span>
                                        </div>
                                        
                                        <p style="font-size:10px;margin-top:8px;">示波器模块设计与实现</p>
                                        <div class="flex-row" style="gap:5px;">
                                            <span class="tag">三重ADC交替采样</span>
                                            <span class="tag tag-highlight">7.2MSPS</span>
                                        </div>
                                        
                                        <p style="font-size:10px;margin-top:8px;">万用表模块参数定义及测量方法</p>
                                        <div class="flex-row" style="gap:3px;flex-wrap:wrap;">
                                            <span class="tag">电压/电流/电阻参数</span>
                                            <span class="tag tag-highlight">仪表放大器偏置电路</span>
                                        </div>
                                    </div>
                                    
                                    <!-- 数控电源 -->
                                    <div class="flex-col" style="flex:1;border-left:1px dashed #ccc;padding-left:15px;">
                                        <p style="font-size:10px;">基于DAC的数控电源CC/CV控制</p>
                                        <div class="flex-row" style="gap:3px;flex-wrap:wrap;">
                                            <span class="tag">恒压模式</span>
                                            <span class="tag">恒流模式</span>
                                            <span class="tag tag-highlight">双环反馈</span>
                                        </div>
                                        
                                        <p style="font-size:10px;margin-top:8px;">基于PID的闭环反馈控制</p>
                                        <div class="flex-row" style="align-items:center;margin-top:5px;">
                                            <div class="verify-box">验证</div>
                                            <span style="font-size:9px;margin-left:8px;">仅含单元</span>
                                            <span style="font-size:9px;margin-left:8px;">模型有效性验证</span>
                                        </div>
                                        
                                        <div style="margin-top:10px;padding-top:8px;border-top:1px dashed #ccc;">
                                            <p style="font-size:10px;">Simulink仿真测试结果</p>
                                            <div class="flex-row" style="gap:3px;flex-wrap:wrap;margin-top:5px;">
                                                <span class="tag">输出电压参数</span>
                                                <span class="tag tag-highlight">输出电流参数</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">2.2</div>
                            </div>
                        </div>
                        
                        <!-- 底部总结 -->
                        <div style="text-align:center;margin-top:10px;padding:8px;background:#FFFACD;border:1px solid #DAA520;">
                            <span style="font-size:10px;">信号处理功能完善</span>
                            <span style="margin:0 15px;">→</span>
                            <span style="font-size:10px;">测量精度与稳定性提高</span>
                        </div>
                    </div>
                    <div class="side-note">方法对应</div>
                </div>

                <!-- ==================== 第三阶段 ==================== -->
                <div class="stage-row">
                    <div class="stage-content">
                        <div class="flex-row" style="align-items: flex-start;">
                            <!-- 3.1 通信协议 -->
                            <div class="solid-group" style="width: 200px;">
                                <div class="module-title">双核通信协议设计</div>
                                
                                <div class="flex-col" style="margin:8px 0;">
                                    <div class="small-box">STM32与ESP32串口通信</div>
                                    <div class="small-box">帧结构定义｜CRC校验</div>
                                    <div class="small-box">数据类型标识</div>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <span class="tag tag-highlight">软件集成</span>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <span class="tag">验证方式</span>
                                    <div class="small-box" style="margin-top:5px;">通信可靠性验证</div>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">3.1</div>
                            </div>
                            
                            <div class="flex-col" style="margin-top:30px;">
                                <span class="arrow">→</span>
                            </div>
                            
                            <!-- 3.2 数据类型 -->
                            <div class="dashed-box" style="width:130px;">
                                <p style="font-size:10px;font-weight:bold;">数据分类</p>
                                <div class="small-box" style="margin:5px 0;">波形数据<br><span style="font-size:8px;color:#666;">(大数据量)</span></div>
                                <div class="small-box" style="margin:5px 0;">参数指令<br><span style="font-size:8px;color:#666;">(小数据量)</span></div>
                                <div class="section-num" style="bottom:3px;right:5px;">3.2</div>
                            </div>
                            
                            <!-- 3.3 LVGL界面 -->
                            <div class="solid-group" style="width: 200px;">
                                <div class="module-title">LVGL界面开发（ESP32-P4）</div>
                                
                                <div class="flex-row" style="gap:3px;flex-wrap:wrap;margin:8px 0;">
                                    <span class="tag">波形显示区</span>
                                    <span class="tag">参数读数区</span>
                                    <span class="tag tag-highlight">虚拟控制面板</span>
                                </div>
                                
                                <div class="flex-row" style="gap:3px;flex-wrap:wrap;margin:5px 0;">
                                    <span class="tag">多功能页面切换</span>
                                    <span class="tag">触摸交互响应</span>
                                </div>
                                
                                <div style="margin-top:8px;padding-top:6px;border-top:1px dashed #ccc;">
                                    <div class="flex-row" style="gap:3px;flex-wrap:wrap;">
                                        <div class="small-box" style="font-size:8px;">示波器界面</div>
                                        <div class="small-box" style="font-size:8px;">信号源界面</div>
                                        <div class="small-box" style="font-size:8px;">电源界面</div>
                                        <div class="small-box" style="font-size:8px;">万用表界面</div>
                                        <div class="small-box" style="font-size:8px;">设置界面</div>
                                    </div>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <span class="tag">界面数据</span>
                                    <div class="small-box" style="margin-top:5px;font-size:9px;">LVGL图表控件<br>动态刷新问题</div>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">3.3</div>
                            </div>
                            
                            <div class="flex-col" style="margin-top:30px;">
                                <div class="verify-box">验证</div>
                                <span class="arrow" style="margin-top:10px;">→</span>
                            </div>
                            
                            <!-- 3.4 云平台 -->
                            <div class="solid-group" style="width: 200px;">
                                <div class="module-title">OneNet云平台接入</div>
                                
                                <div class="flex-col" style="margin:8px 0;">
                                    <div class="small-box small-box-highlight">HTTP/MQTT协议接入</div>
                                </div>
                                
                                <div class="module-title" style="margin-top:10px;font-size:11px;">WiFi网络管理</div>
                                <div class="flex-row" style="gap:3px;flex-wrap:wrap;margin:5px 0;">
                                    <span class="tag">AP配网</span>
                                    <span class="tag">STA连接</span>
                                    <span class="tag">自动重连</span>
                                </div>
                                
                                <div class="flex-col" style="margin-top:8px;">
                                    <div class="small-box">设备自动注册与激活</div>
                                    <div class="small-box">Token鉴权生成</div>
                                    <div class="small-box">数据上报</div>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <div class="verify-box">验证</div>
                                    <div class="small-box" style="margin-top:5px;font-size:9px;">"云端接入"的<br>连接稳定性问题</div>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">3.4</div>
                            </div>
                        </div>
                    </div>
                    <div class="side-note">内容结合</div>
                </div>

                <!-- ==================== 第四阶段 ==================== -->
                <div class="stage-row">
                    <div class="stage-content">
                        <div class="flex-row" style="align-items: flex-start;">
                            <!-- 4.1 系统测试 -->
                            <div class="solid-group" style="width: 200px;">
                                <div class="module-title">系统功能测试与性能验证</div>
                                
                                <div class="flex-col" style="margin:8px 0;">
                                    <div class="small-box">示波器采样率测试</div>
                                    <div class="small-box">信号发生器频率精度</div>
                                    <div class="small-box">电源输出稳定性</div>
                                    <div class="small-box">万用表测量精度</div>
                                    <div class="small-box">无线串口通信测试</div>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <span class="tag">测试基础</span>
                                    <span class="tag" style="margin-left:5px;">理论基础</span>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">4.1</div>
                            </div>
                            
                            <div class="flex-col" style="margin-top:50px;">
                                <span class="arrow">→</span>
                            </div>
                            
                            <!-- 4.2 云端服务 -->
                            <div class="solid-group" style="width: 170px;">
                                <div class="module-title">云端数据服务开发</div>
                                
                                <div style="margin:8px 0;">
                                    <span class="tag">模型基础</span>
                                </div>
                                
                                <div class="flex-row" style="gap:3px;flex-wrap:wrap;margin:8px 0;">
                                    <div class="small-box" style="font-size:9px;">数据流上传</div>
                                    <div class="small-box" style="font-size:9px;">历史数据查询</div>
                                    <div class="small-box" style="font-size:9px;">文件存储管理</div>
                                </div>
                                
                                <div style="margin-top:8px;padding:5px;background:#FFFACD;border:1px solid #DAA520;">
                                    <span style="font-size:9px;">+SD卡本地存储</span>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <span class="tag">API接口</span>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">4.2</div>
                            </div>
                            
                            <!-- 4.3 Web前端 -->
                            <div class="solid-group" style="width: 170px;">
                                <div class="module-title">Web前端开发</div>
                                
                                <div style="margin:8px 0;">
                                    <span class="tag">理论基础</span>
                                </div>
                                
                                <div class="flex-row" style="gap:3px;flex-wrap:wrap;margin:8px 0;">
                                    <div class="small-box" style="font-size:9px;">实时数据展示</div>
                                    <div class="small-box" style="font-size:9px;">波形可视化</div>
                                    <div class="small-box" style="font-size:9px;">远程控制</div>
                                </div>
                                
                                <div style="margin-top:8px;padding:5px;background:#FFFACD;border:1px solid #DAA520;">
                                    <span style="font-size:9px;">+信号分析与导出</span>
                                </div>
                                
                                <div style="margin-top:8px;">
                                    <span class="tag">HTML5/JavaScript</span>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">4.3</div>
                            </div>
                            
                            <div class="flex-col" style="margin-top:30px;">
                                <span class="big-arrow">⟹</span>
                            </div>
                            
                            <!-- 4.4 整体集成 -->
                            <div class="solid-group" style="width: 250px;background:#FFFEF0;">
                                <div class="module-title">系统整体集成与论文撰写</div>
                                
                                <div style="margin:15px 0;text-align:center;">
                                    <div class="flex-row" style="justify-content:center;align-items:center;gap:10px;">
                                        <div class="small-box small-box-highlight">硬件系统</div>
                                        <span style="font-size:16px;">+</span>
                                        <div class="small-box small-box-highlight">软件系统</div>
                                    </div>
                                    
                                    <div style="margin:15px 0;">
                                        <span class="big-arrow">⟹</span>
                                    </div>
                                    
                                    <div class="flex-row" style="justify-content:center;align-items:center;gap:15px;">
                                        <div class="small-box" style="background:#E8F5E9;border-color:#4CAF50;">整体功能验证</div>
                                        <div class="small-box" style="background:#E3F2FD;border-color:#2196F3;">毕业设计论文</div>
                                    </div>
                                </div>
                                
                                <div class="section-num" style="bottom:5px;right:8px;">4.4</div>
                            </div>
                        </div>
                    </div>
                    <div class="side-note"></div>
                </div>
                
            </div>
        </div>
        
        <!-- 图注 -->
        <p style="text-align:center;margin-top:15px;font-size:12px;color:#333;">
            图 7-1  技术路线图
        </p>
    </div>
</body>
</html>
