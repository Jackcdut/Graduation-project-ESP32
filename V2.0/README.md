# ESP32-P4 多功能开发板

基于 ESP32-P4 + ESP32-C6 的嵌入式开发板项目，集成示波器、电源管理、WiFi通信、OneNET云平台、媒体播放等功能。

## 版本信息

**当前版本**: V2.0  
**发布日期**: 2026-01-18  
**状态**: ✅ 功能完整，持续优化中

---

## 版本更新记录

### V2.0 (2026-01-18)

#### ✨ 新增功能
- **无线串口功能完善**
  - TCP Socket 通信稳定运行
  - 支持服务端/客户端模式
  - 多客户端连接支持
  - 实时数据收发
  - ✅ 现在能够正常使用

- **视频播放功能**
  - 支持 AVI 格式视频播放
  - 集成官方 avi_player 组件
  - JPEG 硬件解码加速
  - 音视频同步播放
  - 触摸屏幕退出播放
  - ⚠️ 能够正常播放视频但会出现些许卡顿（复杂画面时）

#### 🔧 优化改进
- 优化媒体播放器架构
- 增大播放缓冲区至 8MB
- 解决 LCD DMA 冲突问题
- 添加播放触摸控制

#### 📝 文档更新
- 新增无线串口使用文档
- 新增媒体播放器指南

---

### V1.0 (2026-01-17)

#### ✅ 核心系统
- ESP32-P4 双核架构优化
- 全屏双缓冲显示系统
- 性能优化 (100 FPS 理论帧率)
- 开机动画与启动流程
- SD 卡文件系统支持

#### ✅ 网络通信
- WiFi 管理模块
- OneNET 云平台集成
- 心知天气 API
- ESP-Hosted WiFi 通信

#### ✅ GUI 界面
- 11 个功能屏幕
- LVGL 8.3 图形库
- 自定义事件处理

#### ✅ 功能模块
- 示波器模块
- 截图功能
- 云端数据管理
- SD 卡管理

#### ✅ Web 前端
- 云端仪表盘
- OneNET 数据可视化
- 实时设备监控

---

## 硬件平台

- **主控芯片**: ESP32-P4 (双核，400MHz)
- **WiFi模块**: ESP32-C6 (ESP-Hosted协议)
- **显示屏**: 800x480 LCD (全屏双缓冲)
- **存储**: SD卡 (截图、数据导出、媒体文件)
- **内存**: 32MB PSRAM

---

## 快速开始

### 环境要求
- ESP-IDF v5.x
- Python 3.8+
- Git

### 编译主程序 (ESP32-P4)
```bash
cd /path/to/lvgl_demo_v8/V2.0
idf.py build
idf.py -p COM3 flash monitor
```

### 编译从机程序 (ESP32-C6)
```bash
idf.py -B build_slave build
idf.py -B build_slave -p COM4 flash
```

---

## 主要功能

### 📡 无线串口 (V2.0 新增)
- TCP Socket 通信 (端口 8888)
- 服务端/客户端模式切换
- 实时数据收发
- 多客户端连接支持

### 🎬 媒体播放 (V2.0 新增)
- 支持 AVI 视频播放
- 支持 BMP 图片查看
- JPEG 硬件解码
- 音视频同步
- 触摸控制

### 📊 示波器
- 实时波形显示
- FFT 频谱分析
- CSV 数据导出

### ☁️ 云平台
- OneNET 数据上报
- 设备状态监控
- 历史数据查询

### 🌤️ 天气服务
- 实时天气信息
- 30 分钟自动更新

---

## 已知问题

### V2.0
- ⚠️ 视频播放复杂画面时会出现轻微卡顿
  - 原因：JPEG 解码和 LCD 传输性能瓶颈
  - 影响：不影响正常使用，简单画面流畅
  - 计划：后续版本继续优化

---

## 后续计划 (V2.1+)

- [ ] 优化视频播放性能
- [ ] 添加更多视频格式支持
- [ ] 增强无线串口功能
- [ ] 支持 OTA 固件升级
- [ ] 添加更多传感器支持

---

## 项目结构

```
lvgl_demo_v8/V2.0/
├── main/                    # 主程序源码
│   ├── main.c              # 程序入口
│   └── network/            # 网络通信模块
├── BSP/                    # 板级支持包
│   └── GUIDER/             # GUI界面代码
│       ├── generated/      # GUI Guider生成代码
│       └── custom/         # 自定义功能模块
│           ├── wireless_serial/  # 无线串口模块
│           └── media_player/     # 媒体播放器模块
├── html/                   # Web前端
├── docs/                   # 项目文档
└── managed_components/     # ESP-IDF组件
```

---

## 技术栈

| 组件 | 版本 | 说明 |
|------|------|------|
| ESP-IDF | v5.4.3 | 开发框架 |
| LVGL | v8.3 | GUI图形库 |
| ESP-Hosted | v1.0.3 | WiFi通信协议 |
| OneNET | HTTP API | 云平台集成 |
| AVI Player | Latest | 视频播放组件 |

---

## 贡献者

- 主要开发者: Jackcdut
- 项目类型: 毕业设计

---

## 许可证

本项目仅用于学习和研究目的。

---

## 联系方式

- GitHub: https://github.com/Jackcdut/Graduation-project-ESP32

---

**最后更新**: 2026-01-18  
**当前版本**: V2.0
